<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youtube Multiview_6</title>

    <style>
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .video-wrapper {
            float: left;
            width: 33%;
            padding: 1px;
            box-sizing: border-box;
            margin-bottom: 10px; /* Adjust the margin to increase vertical spacing */
        }
          .text-box {
            position: relative;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 3px;
            box-sizing: border-box;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            background: linear-gradient(to bottom, #f2f2f2, #d9d9d9); /* Gray gradient background */
            color: black;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .video-wrapper {
                width: calc(50% - 20px);
            }
        }
    </style>

</head>
<body>

<script>
    const apiKey = 'AIzaSyD5VgaH9IPJteplU0ynPb9WvjmJPODEW0E';
    const videoId1 = 'NJUjU9ALj4A';
    const videoId2 = 'WM-F0dc9B9o';
    const videoId3 = '46sFF47-Ef8';
    const videoId4 = 's9xL1DpBsfQ';
    const videoId5 = '9pYfinTpFkk';
    const videoId6 = 'x5co7zQHG1M';

   function fetchRealTimeViewers(videoId, elementId, videoName) {
    fetch(`https://www.googleapis.com/youtube/v3/videos?part=liveStreamingDetails&id=${videoId}&key=${apiKey}`)
        .then(response => response.json())
        .then(data => {
            const realTimeViewers = data.items[0].liveStreamingDetails.concurrentViewers;
            const formattedViewers = addCommasToNumber(realTimeViewers);
            document.getElementById(elementId).innerText = `${videoName}: ${formattedViewers}명`;
        })
        .catch(error => console.error('Error fetching data:', error));
}

function addCommasToNumber(number) {
    return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

    // Fetch real-time viewers count initially
    fetchRealTimeViewers(videoId1, 'realTimeViewers1', '한국경제TV');
    fetchRealTimeViewers(videoId2, 'realTimeViewers2', 'MTN');
    fetchRealTimeViewers(videoId3, 'realTimeViewers3', '연합뉴스경제');
    fetchRealTimeViewers(videoId4, 'realTimeViewers4', '매일경제TV');
    fetchRealTimeViewers(videoId5, 'realTimeViewers5', '이데일리TV');
    fetchRealTimeViewers(videoId6, 'realTimeViewers6', '토마토증권통');

    // Fetch real-time viewers count every 60 seconds (adjust as needed)
    setInterval(() => {
        fetchRealTimeViewers(videoId1, 'realTimeViewers1', '한국경제TV');
        fetchRealTimeViewers(videoId2, 'realTimeViewers2', 'MTN');
        fetchRealTimeViewers(videoId3, 'realTimeViewers3', '연합뉴스경제');
        fetchRealTimeViewers(videoId4, 'realTimeViewers4', '매일경제TV');
        fetchRealTimeViewers(videoId5, 'realTimeViewers5', '이데일리TV');
        fetchRealTimeViewers(videoId6, 'realTimeViewers6', '토마토증권통');
    }, 30000);
</script>

<!-- YouTube Videos -->
<div class="video-wrapper">
    <div class="video-container">
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/NJUjU9ALj4A?autoplay=1&mute=1" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="text-box" id="realTimeViewers1"></div>
</div>

<div class="video-wrapper">
    <div class="video-container">
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/WM-F0dc9B9o?autoplay=1&mute=1" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="text-box" id="realTimeViewers2"></div>
</div>

<div class="video-wrapper">
    <div class="video-container">
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/46sFF47-Ef8?autoplay=1&mute=1" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="text-box" id="realTimeViewers3"></div>
</div>

<div class="video-wrapper">
    <div class="video-container">
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/s9xL1DpBsfQ?autoplay=1&mute=1" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="text-box" id="realTimeViewers4"></div>
</div>

<div class="video-wrapper">
    <div class="video-container">
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/9pYfinTpFkk?autoplay=1&mute=1" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="text-box" id="realTimeViewers5"></div>
</div>

<div class="video-wrapper">
    <div class="video-container">
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/x5co7zQHG1M?autoplay=1&mute=1" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="text-box" id="realTimeViewers6"></div>
</div>

</body>
</html>
